"==============================================================*
"* KEY DATE VALIDITY CHECK — FDS & IA39 LOGIC (FINAL VERSION)
"==============================================================*

"--- PLKO (HEADER) ---------------------------------------------

"Valid-from (DATUV ≤ keydate)
IF gs_base-datuv > so_keydt-low.
  CONTINUE.
ENDIF.

"Valid-to   (VALID_TO ≥ keydate)
IF gs_base-valid_to < so_keydt-low.
  CONTINUE.
ENDIF.


"--- PLPO (OPERATION) ------------------------------------------

"Valid-from (DATUV_O ≤ keydate)
IF gs_base-datuv_o > so_keydt-low.
  CONTINUE.
ENDIF.

"Valid-to   (VALID_TO_O ≥ keydate)
IF gs_base-valid_to_o < so_keydt-low.
  CONTINUE.
ENDIF.


"--- PLMK (CHARACTERISTIC) -------------------------------------
"Only check when characteristics are displayed
IF gv_show_char = gc_true.

  "Valid-from
  IF gs_base-gueltigab > so_keydt-low.
    CONTINUE.
  ENDIF.

  "Valid-to
  IF gs_base-valid_to_c < so_keydt-low.
    CONTINUE.
  ENDIF.

ENDIF.