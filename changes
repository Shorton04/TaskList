TYPES: BEGIN OF ty_task_disp_c,
  plnnr       TYPE plko-plnnr,
  plnal       TYPE plko-plnal,
  werks       TYPE plko-werks,
  vornr       TYPE plpo-vornr,
  tdformat    TYPE tline-tdformat,
  op_ltxt     TYPE tline-tdline,
  arbpl_o     TYPE crhd-arbpl,
  arbei       TYPE plpo-arbei,
  kurzt_char  TYPE plmk-kurztext,
  pmethode    TYPE plmk-pmethode,
  merknr      TYPE plmk-merknr,
  char_ltxt   TYPE tline-tdline,
END OF ty_task_disp_c.


TYPES: BEGIN OF ty_task_disp_d,
  plnnr       TYPE plko-plnnr,
  plnal       TYPE plko-plnal,
  werks       TYPE plko-werks,
  vornr       TYPE plpo-vornr,
  op_ltxt     TYPE tline-tdline,
  arbpl_o     TYPE crhd-arbpl,
  arbei       TYPE plpo-arbei,
  kurzt_char  TYPE plmk-kurztext,
  pmethode    TYPE plmk-pmethode,
  merknr      TYPE plmk-merknr,
  tdformat    TYPE tline-tdformat,
  char_ltxt   TYPE tline-tdline,
END OF ty_task_disp_d.



DATA: gt_display_c TYPE STANDARD TABLE OF ty_task_disp_c,
      gt_display_d TYPE STANDARD TABLE OF ty_task_disp_d,
      gt_display   TYPE STANDARD TABLE OF ty_task_disp_d. "used by SALV


CLEAR: gs_disp_c, gs_disp_d.

"CASE C (Hide Characteristics + Show LT)
gs_disp_c-plnnr      = gs_base-plnnr.
gs_disp_c-plnal      = gs_base-plnal.
gs_disp_c-werks      = gs_base-werks.
gs_disp_c-vornr      = gs_base-vornr.
gs_disp_c-tdformat   = gs_base-tdformat.
gs_disp_c-op_ltxt    = gs_base-op_ltxt.
gs_disp_c-arbpl_o    = gs_base-arbpl_o.
gs_disp_c-arbei      = gs_base-arbei.
gs_disp_c-kurzt_char = gs_base-kurzt_char.
gs_disp_c-pmethode   = gs_base-pmethode.
gs_disp_c-merknr     = gs_base-merknr.
gs_disp_c-char_ltxt  = gs_base-char_ltxt.

APPEND gs_disp_c TO gt_display_c.


"CASE D (Show Characteristics + Show LT)
gs_disp_d-plnnr      = gs_base-plnnr.
gs_disp_d-plnal      = gs_base-plnal.
gs_disp_d-werks      = gs_base-werks.
gs_disp_d-vornr      = gs_base-vornr.
gs_disp_d-op_ltxt    = gs_base-op_ltxt.
gs_disp_d-arbpl_o    = gs_base-arbpl_o.
gs_disp_d-arbei      = gs_base-arbei.
gs_disp_d-kurzt_char = gs_base-kurzt_char.
gs_disp_d-pmethode   = gs_base-pmethode.
gs_disp_d-merknr     = gs_base-merknr.
gs_disp_d-tdformat   = gs_base-tdformat.
gs_disp_d-char_ltxt  = gs_base-char_ltxt.

APPEND gs_disp_d TO gt_display_d.




IF gv_show_char = gc_false AND gv_show_ltxt = gc_true.
  gt_display = gt_display_c.   "Case C
ELSE.
  gt_display = gt_display_d.   "Case D
ENDIF.