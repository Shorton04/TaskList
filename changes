IF gv_show_char = gc_true AND ls_base-merknr IS NOT INITIAL.

  " New characteristic row under same operation
  IF ls_base-merknr <> lv_last_merknr.

    CLEAR ls_disp.
    MOVE-CORRESPONDING ls_base TO ls_disp.
    ls_disp-row_kind = 'C'.
    APPEND ls_disp TO gt_display.

    lv_last_merknr = ls_base-merknr.

  ENDIF.

  " Characteristic long text (only in CHAR+LTXT mode)
  IF gv_show_ltxt = gc_true.
    PERFORM append_char_longtext USING ls_base.
  ENDIF.

ENDIF.