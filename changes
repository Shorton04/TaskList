*---------------------------------------------------------------------*
*  FORM derive_ci_fields â€“ FULL 28 CI FLAGS
*---------------------------------------------------------------------*
FORM derive_ci_fields
  USING    iv_steuerkz TYPE plmk-steuerkz
  CHANGING cs_disp      TYPE ty_task_disp.

  DATA lv_steuer TYPE string.

  "Move STEUERKZ into local string
  lv_steuer = iv_steuerkz.

  "Pad right side to exactly 28 characters
  IF strlen( lv_steuer ) < 28.
    lv_steuer = lv_steuer && repeat( val = ' ' occ = (28 - strlen( lv_steuer )) ).
  ELSEIF strlen( lv_steuer ) > 28.
    lv_steuer = lv_steuer(28).
  ENDIF.

  "Assign each character into CI fields
  cs_disp-ci1  = lv_steuer+0(1).
  cs_disp-ci2  = lv_steuer+1(1).
  cs_disp-ci3  = lv_steuer+2(1).
  cs_disp-ci4  = lv_steuer+3(1).
  cs_disp-ci5  = lv_steuer+4(1).
  cs_disp-ci6  = lv_steuer+5(1).
  cs_disp-ci7  = lv_steuer+6(1).
  cs_disp-ci8  = lv_steuer+7(1).
  cs_disp-ci9  = lv_steuer+8(1).
  cs_disp-ci10 = lv_steuer+9(1).
  cs_disp-ci11 = lv_steuer+10(1).
  cs_disp-ci12 = lv_steuer+11(1).
  cs_disp-ci13 = lv_steuer+12(1).
  cs_disp-ci14 = lv_steuer+13(1).
  cs_disp-ci15 = lv_steuer+14(1).
  cs_disp-ci16 = lv_steuer+15(1).
  cs_disp-ci17 = lv_steuer+16(1).
  cs_disp-ci18 = lv_steuer+17(1).
  cs_disp-ci19 = lv_steuer+18(1).
  cs_disp-ci20 = lv_steuer+19(1).
  cs_disp-ci21 = lv_steuer+20(1).
  cs_disp-ci22 = lv_steuer+21(1).
  cs_disp-ci23 = lv_steuer+22(1).
  cs_disp-ci24 = lv_steuer+23(1).
  cs_disp-ci25 = lv_steuer+24(1).
  cs_disp-ci26 = lv_steuer+25(1).
  cs_disp-ci27 = lv_steuer+26(1).
  cs_disp-ci28 = lv_steuer+27(1).

ENDFORM.