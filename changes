"==============================================================*
"* KEY DATE VALIDITY CHECK — FDS & IA39 LOGIC (CORRECT VERSION)
"==============================================================*

"--- PLKO (Header)
IF gs_base-datuv > so_keydt-low.
  CONTINUE.  "valid-from fail
ENDIF.

IF gs_base-valid_to < so_keydt-low.
  CONTINUE.  "valid-to fail
ENDIF.

"--- PLPO (Operation)
IF gs_base-datuv_o > so_keydt-low.
  CONTINUE.
ENDIF.

IF gs_base-valid_to_o < so_keydt-low.
  CONTINUE.
ENDIF.

"--- PLMK (Characteristic) — only when Char mode is ON
IF gv_show_char = gc_true.

  IF gs_base-gueltigab > so_keydt-low.
    CONTINUE.
  ENDIF.

  IF gs_base-valid_to_c < so_keydt-low.
    CONTINUE.
  ENDIF.

ENDIF.