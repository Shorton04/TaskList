REPORT zre_a2r_valid_tasklist.

*---------------------------------------------------------------------*
* Includes
*---------------------------------------------------------------------*
INCLUDE zre_a2r_valid_tasklist_top.
INCLUDE zre_a2r_valid_tasklist_sel.
INCLUDE zre_a2r_valid_tasklist_f01.

*---------------------------------------------------------------------*
* Events
*---------------------------------------------------------------------*

AT SELECTION-SCREEN.
  PERFORM validate_selection.

START-OF-SELECTION.

  "Initial visibility comes from selection screen checkboxes
  gv_show_char = COND #( WHEN p_showc = 'X' THEN gc_true ELSE gc_false ).
  gv_show_ltxt = COND #( WHEN p_showl = 'X' THEN gc_true ELSE gc_false ).

  PERFORM get_data.

  IF gt_base IS INITIAL.
    MESSAGE i398(00).   "Standard: 'No data was selected'
    EXIT.
  ENDIF.

  PERFORM build_display.
  PERFORM display_alv.