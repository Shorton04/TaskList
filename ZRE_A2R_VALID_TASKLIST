*&---------------------------------------------------------------------*
*& Report  ZRE_A2R_VALID_TASKLIST
*&---------------------------------------------------------------------*
*& Task List Validation Report
*&---------------------------------------------------------------------*
REPORT zre_a2r_valid_tasklist.

INCLUDE zre_a2r_valid_tasklist_top.
INCLUDE zre_a2r_valid_tasklist_sel.
INCLUDE zre_a2r_valid_tasklist_f01.

*---------------------------------------------------------------------*
* SELECTION-SCREEN CHECKS
*---------------------------------------------------------------------*
AT SELECTION-SCREEN.
  PERFORM validate_selection.

*---------------------------------------------------------------------*
* MAIN LOGIC
*---------------------------------------------------------------------*
START-OF-SELECTION.

  PERFORM get_data.

  IF gt_base IS INITIAL.
    MESSAGE s398(00) WITH 'No data found for entered selection'.
    RETURN.
  ENDIF.

  " Initial display build according to Detailed View flags
  IF p_showc = 'X'.
    PERFORM build_display_with_char.
  ELSE.
    PERFORM build_display_initial.
  ENDIF.

  IF p_showl = 'X'.
    IF gv_show_char = abap_true.
      PERFORM add_longtext_for_chars.
    ELSE.
      PERFORM add_longtext_for_ops.
    ENDIF.
  ENDIF.

  PERFORM display_alv.