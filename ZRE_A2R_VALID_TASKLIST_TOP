*&---------------------------------------------------------------------*
*& Include ZRE_A2R_VALID_TASKLIST_TOP
*&---------------------------------------------------------------------*

*----------------------------------------------------------------------*
* Type Definitions
*----------------------------------------------------------------------*
TYPES: BEGIN OF ty_output,
         " Header fields
         plnty         TYPE plko-plnty,
         plnnr         TYPE plko-plnnr,
         plnal         TYPE plko-plnal,
         tplnr         TYPE tapl-tplnr,
         equnr         TYPE eapl-equnr,
         ktext         TYPE plko-ktext,
         werks         TYPE plko-werks,
         arbpl_header  TYPE crhd-arbpl,
         vagrp         TYPE plko-vagrp,
         verwe         TYPE plko-verwe,
         statu         TYPE plko-statu,
         anlzu         TYPE plko-anlzu,
         strat         TYPE plko-strat,
         istru         TYPE plko-istru,
         adpsp         TYPE plko-adpsp,
         slwbez        TYPE plko-slwbez,
         andat         TYPE plko-andat,
         annam         TYPE plko-annam,
         aedat         TYPE plko-aedat,
         aenam         TYPE plko-aenam,
         
         " Operation fields
         vornr         TYPE plpo-vornr,
         ltxa1         TYPE plpo-ltxa1,
         steus         TYPE plpo-steus,
         arbpl_oper    TYPE crhd-arbpl,
         ktsch         TYPE plpo-ktsch,
         arbei         TYPE plpo-arbei,
         arbeh         TYPE plpo-arbeh,
         dauno         TYPE plpo-dauno,
         daune         TYPE plpo-daune,
         kalid         TYPE plpo-kalid,
         execution_stage TYPE plpo-execution_stage,
         anlzu_op      TYPE plpo-anlzu,
         istru_op      TYPE plpo-istru,
         larnt         TYPE plpo-larnt,
         ebeln         TYPE plpo-ebeln,
         ebelp         TYPE plpo-ebelp,
         lifnr         TYPE plpo-lifnr,
         preis         TYPE plpo-preis,
         waers         TYPE plpo-waers,
         sakto         TYPE plpo-sakto,
         ekorg         TYPE plpo-ekorg,
         ekgrp         TYPE plpo-ekgrp,
         
         " Characteristic fields
         merknr        TYPE plmk-merknr,
         verwmerkm     TYPE plmk-verwmerkm,
         kurztext      TYPE plmk-kurztext,
         ltextkz       TYPE plmk-ltextkz,
         toleranzun    TYPE plmk-toleranzun,
         toleranzob    TYPE plmk-toleranzob,
         methode       TYPE plmk-methode,
         stichprver    TYPE plmk-stichprver,
         pruefeinh     TYPE plmk-pruefeinh,
         katalgart1    TYPE plmk-katalgart1,
         auswmenge1    TYPE plmk-auswmenge1,
         
         " Control Indicators (parsed from STEUERKZ)
         ci_quant      TYPE char1,
         ci_measured   TYPE qkzqumk,
         ci_ref_attr   TYPE qkzpkat,
         ci_upper_lim  TYPE qkztolob,
         ci_lower_lim  TYPE qkztolun,
         ci_check_tgt  TYPE qkzsollpr,
         ci_scope      TYPE char1,
         ci_longterm   TYPE qlzeitkz,
         ci_rec_type   TYPE char1,
         ci_doc_req    TYPE char1,
         ci_char_cat   TYPE char1,
         ci_sync       TYPE qsyncro,
         ci_sample_add TYPE qaddpro,
         ci_destruct   TYPE qkzdestroy,
         ci_calculated TYPE char1,
         ci_samp_proc  TYPE qstichpr,
         ci_qual_score TYPE qausslos,
         ci_no_change  TYPE qnaendkz,
         ci_rec_defect TYPE qbfhlzhl,
         ci_control_qm TYPE qleitstkz,
         ci_spec_chg   TYPE qvorgaend,
         ci_test_equip TYPE qpmzwang,
         ci_def_auto   TYPE qfehlrec,
         ci_chg_doc    TYPE qkzaenbel,
         ci_spc        TYPE qspcmk,
         ci_print      TYPE char1,
         ci_parameter  TYPE qpara,
         ci_process    TYPE qkzprocchar,
         
         " Long text fields
         tdformat_op   TYPE tdformat,
         tdline_op     TYPE tdline,
         tdformat_char TYPE tdformat,
         tdline_char   TYPE tdline,
         
         " Internal control fields
         plnkn         TYPE plpo-plnkn,
         zaehl_op      TYPE plpo-zaehl,
         zaehl_char    TYPE plmk-zaehl,
         kzeinstell    TYPE plmk-kzeinstell,
         txtsp         TYPE plpo-txtsp,
         ltextspr      TYPE plmk-ltextspr,
       END OF ty_output.

*----------------------------------------------------------------------*
* Internal Tables
*----------------------------------------------------------------------*
DATA: gt_output      TYPE STANDARD TABLE OF ty_output,
      gt_output_temp TYPE STANDARD TABLE OF ty_output,
      gt_fieldcat    TYPE slis_t_fieldcat_alv,
      gt_lines       TYPE STANDARD TABLE OF tline.

*----------------------------------------------------------------------*
* Work Areas
*----------------------------------------------------------------------*
DATA: gs_output   TYPE ty_output,
      gs_fieldcat TYPE slis_fieldcat_alv,
      gs_layout   TYPE slis_layout_alv,
      gs_line     TYPE tline.

*----------------------------------------------------------------------*
* Variables
*----------------------------------------------------------------------*
DATA: gv_show_char TYPE char1,
      gv_show_lt   TYPE char1,
      gv_repid     TYPE sy-repid.

*----------------------------------------------------------------------*
* Constants
*----------------------------------------------------------------------*
CONSTANTS: gc_x TYPE char1 VALUE 'X'.
