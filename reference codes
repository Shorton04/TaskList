FORM add_f4_shl USING iv_col iv_tab iv_field.

  DATA: ls_ddic TYPE lvc_s_ddic,
        lo_col  TYPE REF TO cl_salv_column.

  TRY.
      lo_col ?= lo_alv->get_columns( )->get_column( iv_col ).
    CATCH cx_salv_not_found.
      RETURN. "Column not found â†’ silently skip
  ENDTRY.

  ls_ddic-table = iv_tab.
  ls_ddic-field = iv_field.

  lo_col->set_ddic_reference( ls_ddic ).
  lo_col->set_f4( abap_true ).

ENDFORM.


